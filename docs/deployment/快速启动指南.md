# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Python 3.8+
- MySQL 5.7+
- Redis 6.0+

## ğŸ”§ å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd image-convert-python
```

### 2. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 3. é…ç½®æ•°æ®åº“
```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE image_convert_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–
mysql -u root -p image_convert_db < tools/database/database_init_mysql.sql

# æ‰§è¡ŒåŠŸèƒ½è¿ç§»
mysql -u root -p image_convert_db < tools/database/database_feedback_points_migration.sql
```

### 4. é…ç½®ç¯å¢ƒå˜é‡
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config/settings.py.example config/settings.py

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim config/settings.py
```

### 5. å¯åŠ¨æœåŠ¡
```bash
# æ–¹å¼1: ç›´æ¥å¯åŠ¨
python main.py

# æ–¹å¼2: ä½¿ç”¨è„šæœ¬å¯åŠ¨
python tools/scripts/dev_start.py

# æ–¹å¼3: ä½¿ç”¨uvicornå¯åŠ¨
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

## ğŸŒ è®¿é—®æœåŠ¡

- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **ReDocæ–‡æ¡£**: http://localhost:8000/redoc
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/health
- **æ ¹è·¯å¾„**: http://localhost:8000/

## ğŸ§ª æµ‹è¯•åŠŸèƒ½

### 1. è¿è¡Œé›†æˆæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰é›†æˆæµ‹è¯•
python -m pytest tests/integration/

# è¿è¡Œç‰¹å®šæµ‹è¯•
python tests/integration/test_feedback_points.py
python tests/integration/test_connection.py
```

### 2. æ‰‹åŠ¨æµ‹è¯•API
```bash
# æµ‹è¯•ç™»å½•
curl -X POST "http://localhost:8000/api/auth/login" \
     -H "Content-Type: application/json" \
     -d '{"username": "admin", "password": "admin666"}'

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl -X GET "http://localhost:8000/health"
```

## ğŸ“Š é»˜è®¤è´¦æˆ·

- **ç®¡ç†å‘˜è´¦æˆ·**: admin / admin666
- **æµ‹è¯•è´¦æˆ·**: testuser / testuser

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### æ•°æ®åº“æ“ä½œ
```bash
# é‡ç½®æ•°æ®åº“
mysql -u root -p image_convert_db < tools/database/database_init_mysql.sql

# æ‰§è¡Œè¿ç§»
mysql -u root -p image_convert_db < tools/database/database_feedback_points_migration.sql

# å¤‡ä»½æ•°æ®åº“
mysqldump -u root -p image_convert_db > backup.sql
```

### æœåŠ¡ç®¡ç†
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡
python tools/scripts/dev_start.py

# å¯åŠ¨ç”Ÿäº§æœåŠ¡
python tools/scripts/start.py

# å¯åŠ¨MySQLæœåŠ¡
python tools/scripts/mysql_start.py
```

### æµ‹è¯•ç›¸å…³
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œå•å…ƒæµ‹è¯•
python -m pytest tests/unit/

# è¿è¡Œé›†æˆæµ‹è¯•
python -m pytest tests/integration/

# è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
python -m pytest tests/e2e/
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
- æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### 2. Redisè¿æ¥å¤±è´¥
- æ£€æŸ¥RedisæœåŠ¡æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥Redisé…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### 3. ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :8000

# æ€æ­»è¿›ç¨‹
taskkill /F /PID <è¿›ç¨‹ID>
```

### 4. ä¾èµ–å®‰è£…å¤±è´¥
```bash
# å‡çº§pip
python -m pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

## ğŸ“š æ›´å¤šæ–‡æ¡£

- [æ¶æ„è®¾è®¡](docs/architecture/)
- [åŠŸèƒ½è¯´æ˜](docs/features/)
- [APIæ–‡æ¡£](http://localhost:8000/docs)
- [éƒ¨ç½²æŒ‡å—](docs/deployment/)

## ğŸ¤ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
1. é¡¹ç›®æ–‡æ¡£
2. APIæ–‡æ¡£
3. æµ‹è¯•ç”¨ä¾‹
4. æ—¥å¿—æ–‡ä»¶

ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
